# IR0 Kernel

**IR0** is a custom monolithic (but hybrid with Linux subs) kernel written from scratch in C and assembly, built to explore low-level OS development with a clean and modular architecture.

It aims to be minimal at its core, but flexible enough to scale into different use cases: desktop, server, or embedded systems (IoT). Think of it as a learning playground ‚Äî but with real-world goals.

---

## üîß Features

- ü™µ VGA-based text output and custom logging system
- üß† Software paging (virtual memory support)
- ‚ö° IDT + basic interrupt handling (hardware & page faults)
- ‚è±Ô∏è PIT-based timer + interrupt dispatch
- üö® Kernel panic system
- üíª Fully custom bootloader (no GRUB but used in x64)
- üõ†Ô∏è Designed to support modular targets (Desktop, Server, IoT)

---

## üìÅ Project Structure

- /boot -> Bootloader & real mode ASM
- /kernel -> Main kernel logic (paging, init, panic)
- /idt -> Interrupt descriptor table setup
- /io -> Text output and logging (print, colors)
- /paging -> Paging structures and control
- /panic -> Panic handler and CPU halt
- /timer -> PIT driver and handler
- /linker.ld -> Custom linker script
- /setup -> For Custom builds

---

### üîß IR0 Subsystems Overview

| Subsystem           | Status               | Notes                                                                 |
|--------------------|----------------------|-----------------------------------------------------------------------|
| üßº **Bootloader**     | ‚úÖ Ready              | Custom bootloader (no GRUB), switches to 32-bit protected mode        |
| üì¶ **Paging**         | ‚úÖ Stable             | 32-bit, 4KB pages (9 tables = 36MB); planned upgrade to 64-bit + demand paging |
| ‚ö° **Interrupts (IDT)**| ‚úÖ OK                 | IDT loaded, custom ISRs in ASM/C, page fault handler working          |
| ‚è≤ **PIT Timer**      | ‚ö† Basic              | Used as temporary fallback timer; shows ticks                         |
| üß≠ **HPET / LAPIC / ACPI** | üß™ Partial           | ACPI parser and HPET/LAPIC detection working; MMIO and activation pending |
| üß† **Scheduler**      | üöß Ready for upgrade  | Basic Round-Robin; will be replaced by Timer Wheel or Fair Scheduler using hardware timers |
| üìÅ **Filesystem**     | üöß Planned            | Custom EXT2-based FS with vector indexing; will be integrated as a module |
| üîÄ **Syscalls & IPC** | üöß Future             | Scheduled for later phase (userland and task communication)           |
| üñ• **GUI / Desktop**  | üïí Optional           | For `IR0_DESKTOP` builds; not a current priority                      |

---

### üß† Technical Notes

- **Current Scheduler:** A working Round-Robin system using PIT as fallback. The final version will use smarter scheduling based on HPET or LAPIC timer events.
- **Advanced Timers:** ACPI parser detects HPET and LAPIC correctly; MMIO mapping and full activation are pending.
- **Future Paging:** Migration to **64-bit with demand paging** is planned ‚Äî required for Linux-compatibility layers and advanced virtualized/userland support.
- **Modular Design:** Each subsystem can be toggled at build-time depending on the target (`IR0_DESKTOP`, `IR0_SERVER_SSL`, `IR0_IOT`) via conditional compilation.

---

## üì¶ Build Instructions

> Requirements: `nasm`, `gcc` (cross-compiler preferred), `ld`, `qemu`

```bash
make
qemu-system-i386 -kernel ir0.bin
```


### üí° Future Plans
- Modular build targets:

- IR0-Desktop: GUI, drivers, custom FS

- IR0-Server: Network stack, container runtime

- IR0-IoT: Minimal core, real-time schedulers

- Vector-based file indexing

- 64-bit transition

- Support for Docker/Kubernetes via hybrid syscall layer with Linux

## ü§ù Contributing
This project is mostly for learning and experimentation, but PRs, ideas or suggestions are welcome :--). You can open issues or forks to propose features or improvements.

